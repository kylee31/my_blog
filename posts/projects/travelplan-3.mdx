---
title: 무료 도메인 만료 이슈
date: 2024-03-11
description: 발급받은 무료 도메인이 만료되어 재발급 받아 설정, 이 과정에서 EIP를 발급하여 AWS 인스턴스에 연결
cate: travelplan
---

> 도메인 재발급 및 탄력적 IP(Elastic IP) 발급하여 연결하기

3개월동안 사용가능한 무료 도메인이 만료되어 사이트 접속이 되지 않았다. 다시 새 도메인을 발급받아 AWS 인스턴스와 연결해주는데,
인스턴스 연결성 에러가 발생하여 진행이 되질 않았다.

중단 후 실행하면 IP가 매번 바뀌는 불편함 때문에 탄력적 IP가 필요했다. 검색해보니 **Elastic IP 발급 후 실행중인 인스턴스에 연결
해주면 요금이 발생하지 않았다.** (하나의 인스턴스에 해당) <br/>
[EC2 탄력적 IP 적용 (AWS EIP)](https://velog.io/@yesparrot/EC2-%ED%83%84%EB%A0%A5%EC%A0%81-IP-%EC%A0%81%EC%9A%A9-AWS-EIP)

도메인을 재발급하여 다시 적용하면서 IP도 EIP로 변경해야 이후에도 편하기 때문에 함께 진행했다.

EIP 발급과 도메인 재연결 과정을 간략히 정리해보았다. 먼저 EIP 발급 및 연결에 대해 알아보자. (매우 쉽다!)

### 🔗 EIP 발급 및 연결

인스턴스는 퍼블릭 IPv4가 인스턴스 중지 및 실행마다 변경되었다. 때문에 탄력적 IP를 발급하여 고정 IP를 주어 해당
IP로 설정 등에 사용하면 보다 안정적인 서비스가 가능하다.

**EC2 - 네트워크 및 보안 - 탄력적 IP - 탄력적 IP 주소 할당**

위의 과정을 거쳐 IP 주소를 할당받고, 해당 IP 우클릭 후 탄력적 IP 주소 연결로 들어가 연결할(실행중인) 인스턴스를 선택하여
연결해주면 바로 연결된다.

이후 EIP에 연결된 인스턴스는 모두 EIP로 설정되어 있음을 확인할 수 있다.

![](/projects/travelplan/3-1.jpg)
![](/projects/travelplan/3-2.jpg)

### 💻 도메인 재발급 및 연결

아래 사이트에서 무료 도메인을 발급받아 사용하였는데, 3개월짜리라 만료되어 해당 도메인 주소로 사이트 접속이 불가능했다.<br/>
[내도메인.한국](https://xn--220b31d95hq8o.xn--3e0b707e/)

다시 마음에 드는 도메인을 발급받아 위에서 설정해준 EIP로 연결해주었다. 여기서 끝나면 좋겠지만! 아직 설정해줄 부분이 더 남아있었다.

1. GitHub Actions에 등록해둔 Secret Key (IP 주소)
2. 카카오 지도 Web API에 등록해둔 도메인 주소와 IP 주소
3. Nginx에 등록해둔 server-name과 IP 주소

위의 세가지 항목을 변경해주어야 했다.

차례로 EIP와 새 도메인으로 변경해주니 새로운 도메인 주소로 사이트 접속이 가능해졌다~
(pm2 새로 생성하여 다시 무중단 배포가 가능하도록 설정했다) 아래 이미지는 새 도메인 주소로 접속한 사이트 일부!

![](/projects/travelplan/3-3.jpg)

발급받은 도메인은 6/11 만료이니 만료 전 도메인을 재발급받아 새로 연결해주면 된다!
