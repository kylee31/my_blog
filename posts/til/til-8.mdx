---
title: TIL 8
date: 2024-05-09
description: 프로젝트 4주차, 1일~6일
---

### 05/09

### 트러블슈팅 세션

> **트러블슈팅(troubleshooting)**이란, 문제 해결의 일종으로 망가진 제품, 또는 기계 시스템의 망가진 프로세스를 수리하는
> 일에 주로 적용된다. 문제 해결을 위해 문제의 원인을 논리적이고 올바르게 찾는 일이며 제품이나 프로세스의 운영을 재개할 수 있게 한다.

📑 프로젝트에서 오류가 생기면 바로 수정하기 보다, 오류에 대해 문제를 정의하고 해결하는 과정을 문서화해두어 다음에도
동일한 상황에서 참고할 수 있도록!

**[정의]** 문제를 정의하는 단계, 문제를 구체화 하는 과정
ex. 회원가입 기능이 안돼요 ▶ 회원가입 버튼을 클릭해도 아무런 일이 일어나지 않아요 (세부적인 문제 상황 확인하기)

**[재현]** 실제로 문제 상황을 재현해보는 단계
ex. 회원가입 정보를 입력한 뒤에 클릭했을 때 아무런 일이 일어나지 않는지 확인해보기

**[원인 추론]** 왜 이런 일이 발생하는지 확인
▶ 개발자 도구를 열어 콘솔 확인 등, 네트워크 창에서 api 확인 등

**[해결]** 해결한 뒤 어떻게 해결하였는지 과정 작성하기

**[문서화]** 문제가 무엇이었는지, 왜 문제가 발생했는지, 어떻게 해결하였는지 세가지로 나누어서 작성해보기

실무에서도 단순해보이지만 무한 렌더링 이슈 엄청 많이 경험함! 문서화 해두면 오류를 빠르게 해결할 수 있다.

### 05/10

[기술 매니저님]

Q. jest가 테스트 코드 작성 시 사용됨을 알고 있습니다. 어떤 상황에서 사용되나요?
A. jest는 테스팅 라이브러리로 프로젝트 혹은 기능의 엣지 케이스, 경계 같은 거 검사하기 위해 사용한다.

Q. 대규모 데이터셋 렌더링 최적화가 어떤 걸까요?
버츄얼라이제이션, 노멀라이제이션 키워드를 알고 있으면 될 것 같다.
예를 들어 상품 리스트가 엄청 많은데, 실제로 환경에 보일때만 렌더링되면 되기 때문에 뷰포트 기준으로 가상 네모를
렌더링하는 것이 버츄얼라이제이션. 버츄얼라이제이션이나 노멀라이제이션을 도입하게 된 배경이나 생각을 설명하면 될 것 같다.

Q. Lighthouse 활용법이 궁금합니다. 로컬 환경이 아니라 프로덕션 환경에서 꼭 테스트 해보아야 할까요?
A. 매번 하는건 아니고 로컬에서 할 때 개선되었는지 여부만 확인하고 최종 정리할 때 production에서만 측정해본다.
개선할때는(즉, 개발할때는) 로컬에서만 측정해보고 점수 향상을 확인해도 될 듯하다.

Q. 최적화를 어느 범위까지 해야할까요?
A. 모든 것에 최적화할 필요는 없고 실질적으로 필요한 곳에서만 해보자. 커머스에서 렌더링 제일 많이 일어나는 상품 리스트,
집중해서, 소소한건 굳이? 조금의 차이로도 렌더링 성능이 많이 차이난다면 컴포넌트에서 보면 될 듯하다.
즉 성능차이가 많이 일어날 것 같은 부분에서(병목 현상이 생길 것 같은 곳에서) 최적화해보자.
문제를 어떻게 찾았고, 어떻게 해결했다 어떻게 사고하는지를 위주로 본다. (ex. 어떤 병목이 생기는 컴포넌트가 있었는데 이걸 어떻게 찾아서 해결했다~ 이런거)
기본기를 얼마나 잘아는지. 잘 생각하고 했는지.

### 05/11

[멘토님]

1. 어느정도까지 테스트 코드를 작성해야 할까요?
   테스트 코드 짜는건 사람마다 방법론이 다름, TDD와 같이 모든 영역에서 짜야한다고 주장하는 사람도 있음. 멘토님은 핵심 기능만 하는게 맞다고 본다. 모든 기능에 요구사항이 되어 있으면 단일책임 테스트~ 테스트 기반으로 코드 짜는것도 가능! 그러나 요구사항 명세가 바뀔때가 많음. 필수값들이 바뀌고~ 테스트 코드가 전부 깔려있으면 이거 고치느라 힘듦. 모든 부분에서 고치는건 힘들수도 있다. 핵심기능에는 들어가는게 맞다. 요구사항이 변하지 않는 환경에서는 테스트 기반으로 쫙 해보는것도
2. Next.js의 SSR 등장으로 Css-in-js의 전망?
   자바스크립트에다가 css를 넣는거니까 당연히 프론트쪽에서 하는게 좋기는한데 ssr이 결국에는 기본적인걸 서버에서 내려주는거~ css가 프론트엔드에 들어가야 하기 떄문에~? 그대로 유지되지 않을까? next같은게 하고있는 방식이 올바른 방식인지는 모르겠다. Next만 사용하면 단일 도구로서 프로토타입, 개인 프로젝트에는 좋지만 scale out을 한다던지 하면 효율적이지 않을때가 많은 것 같음. 방향성이 어떨지는 모르겠음. 각각의 역할이 분명히 있기 때문에 많이 사용하지 않을까
3. Typescript에서 type과 interface 중 어떤 걸 더 많이 사용하는지?
   개인적으로 type을 많이 씀. 복잡한 타입 만들 때 intersection만들 때 등 계층 구조로 extends사용해서 공통적으로 사용하는거거 만들고 인프라 자원 서버 렉에 꽂아두는~ 보안 장비, 스토리지 장비.. 공통적인 핵심 필드 (stream ip 등) 이런거 제외하면 type을 많이 씀
4. default export와 named export 방식 중 더 많이 사용하는건?
   컴포넌트 많이 사용하는건 default export 파일단위로 쪼개는 편이라 default를 많이 사용하고 파일에서 대표적으로 해야하는건 named export도 많이 사용하는 편임. (상황따라!)
5. 화살표 함수, funciont 함수 표현식 언제 사용하는지?
   그때그때 다름. 가장 큰 다른점은 this라는 키워드가 있음. This 바인딩 방식이 다름. context유지 차이점, 함수 그 자체만을 사용할땐 화살표함수, 컴포넌트 같은거 만들땐 일반적인 함수 문법 사용해서 많이 만드는 거 같음

[참고자료]

- https://poiemaweb.com/es6-arrow-function
- https://velog.io/@dbstjrwnekd/this

### 05/13

[기술 매니저님]

Q. 프로젝트 마무리 단계라 최적화 및 성능과 관련하여 많은 툴을 사용하고 있는데, 우선적으로 사용해볼 툴은 어떤 게 있을까요?
A. 상황에 따라 다르지만 아래 도구를 위주로 확인해보면 좋을 것 같다.

1. light house
2. networktab
3. 리액트 컴포넌트 데브 툴스
4. 리액트 프로파일러
5. react query devtools

**+** 제네릭 타입
선언 시점이 아닌 생성 시점에서 결정되는 타입, &#60;T&#62;로 표현
![](/til/8-1.jpg)

**+** 타입 가드
컴파일러가 타입을 예측할 수 있도록 타입의 범위를 축소시켜 주는 것
(타입 축소: 타입 범위 축소, 타입 가드를 해주기 위해 타입 축소를 하는 거라고 말할 수 있다.)

1. typeof

```
function test(value) {
	if (typeof value !== 'string') {
    	return;
    }

    // 여기부터는 value 를 string type 으로 확정 인식!
}
```

typeof 를 통해 확인한 타입이 내가 원하는 타입이 아니면 리턴을 시키고, 만약 맞다면 그 이후 코드에서는 내가 원하는 타입으로 컴파일러가 확정적으로 인식

2. is

```
function isString(value: any): value is string {
    return typeof value === 'string';
}
```

is 는 typescript 에서 지원하고 있는 키워드. 정 타입을 체크하는 함수에서 반환되는 값이 true 이면 해당 함수를 사용하는 블록 안에서도 인자로 받은 값의 타입을
특정 타입으로 확정시켜 줄 수 있도록 하는 기능
