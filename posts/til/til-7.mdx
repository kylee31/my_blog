---
title: TIL 7
date: 2024-05-01
description: 프로젝트 3주차, 1일~6일
---

### 05/04

[3주차 멘토링]

**Q.** E2E 테스트 코드를 어느 분야에 작성하고, 테스트 해야할지 모르겠습니다.
**A.** 관점을 정해서 생각해봅시다. API까지 볼 수 있고 프론트엔드 기준에서만 볼 수도 있습니다.
유닛 테스트, 통합 테스트, E2E 테스트 구분해서 생각하면 좋을 것 같습니다. QA(기능 종합 테스트 담당)의 부담을 줄여주는 방향으로 주로 작성합니다.
여러 상황별 시나리오를 대비하는게 테스트 코드를 작성하는 이유가 될 수 있습니다. QA분들의 방법론을 참고하여 유저 시나리오를 작성하고
엑셀 문서를 만들어서 웹 페이지 별로 시나리오 케이스 만들어두고 행위들을 나누어 둡니다.
예를 들어 특정 페이지에서 로그인 되었을 때, 로그인 버튼 클릭 시 기대되는 결과 등.. 이러한 상황을 엑셀에 정리해두는 편입니다.
E2E 도구 사용하여 결과물에 후보정을 하게 됩니다. 즉, E2E는 전반적으로 유저 시나리오대로 훑는다고 보면 될 것 같습니다.

**Q.** 결제 연동을 실무 측면에서 볼 때 신경써야 할 점은 어떤게 있을까요?
**A.** PG에서 처리해야 할 데이터가 다릅니다. 도메인 지식을 이해하는게 중요할 것 같습니다.
필요한 데이터를 가공하고 넘겨주는 부분(어떻게 가공해서 넘겨줄 것인지)의 고민도 필요했습니다.
(데이터 검증, 데이터 무결성 등)

**+**

1. 기밀성(Confidentiality): 정보가 인가된 사용자만이 접근할 수 있어야 함을 의미합니다.
2. 무결성(Integrity): 정보가 정확하고 완전하며, 인가된 사용자에 의해서만 수정될 수 있어야 함을 의미합니다.
3. 가용성(Availability): 인가된 사용자가 필요할 때 언제든지 정보에 접근할 수 있어야 함을 의미합니다.

**Q.** Compound Component Pattern에 대해 알려주실 수 있을까요? 여러 컴포넌트를 조합하여
사용하는 것과 어떤 차이점이 있을까요?
**A.** 반복되는 UI를 보통 컴포넌트화 하는 경우도 많지만 아닌 경우도 있습니다.
버튼 하나 차이에 따라 로직이 완전 달라질 때, 컴포넌트화 하는 것이 아닌 그룹화가 더 나은 방법일 수 있습니다.
즉, 하나하나 컴포넌트로 만들면 어려워지는 경우가 있으므로 전체적인 그룹을 만들고 필요한 것만
로직에 맞춰 사용하는 방식이라는 점에서 컴포넌트를 조합해서 사용하는 것과 Compound Component 패턴에서 차이가 날 수 있습니다.
해당 패턴은 재활용이 될 것 같은 코드에 사용하는 게 좋을 것 같습니다.
꼭 전역으로 하지 않아도 되지만 사용하는 것이 유리합니다.

**Q.** 조건부 렌더링에서 논리 연산자로 렌더링을 제어하는 경우 컴포넌트 렌더링 상태가 헷갈립니다.
렌더링 된 컴포넌트가 보이지 않는 것인지, 조건이 성립된 경우에만 컴포넌트가 렌더링 되는 것일까요?
**A.** CSS의 visible과 헷갈리고 있는 것 같습니다. CSS 개념과는 다르게 렌더 트리를 생각해보아야 합니다.
조건이 false라면 렌더 트리에 포함되지 않아 렌더링 되지 않습니다.
import를 하고 사용하지 않았다면 JS 데이터로는 불러와졌다고 볼 수 있지만 렌더 트리에는 포함되지 않습니다.
JS로 어떤 요소를 만들 때 리페인트, 리플로우가 어떻게 일어나는지 알고 있으면 도움이 됩니다.
https://d2.naver.com/helloworld/59361

**Q.** 반응형으로 모바일 뷰를 만들 경우 웹 화면을 만들고 모바일 뷰를 만드는지, 반응형 구현 시 일반적으로 사용되는
일의 순서나 패턴이 있는지 궁금합니다. 추가로, 속성은 %로 접근하는 게 좋을까요?
**A.** 개인적으로는 반응형 뷰를 구현한다고 해도 컴포넌트 구성하면서 반응형에 대한 것은 신경쓰지 않는 편입니다.
개발 환경 중심으로 API, 비동기, 로직 등을 먼저 고민합니다.
반응형 뷰는 미디어 쿼리(**미디어 쿼리(Media Query)**는 CSS3의 기능으로,
장치의 특성과 화면 크기에 따라 스타일 및 레이아웃을 동적으로 조정하는 데 사용)를 이용하여 조절하면서 맞춰가는 편입니다.
nav 경우를 예로 들자면, 작은 화면에서 수평으로 상단에 붙여 만들지 혹은 숨기고 아이콘으로 드러나게 할지 등
해당 상황에 대한 감이 생깁니다. (useSetting 사용해서)

%가 반드시 좋은 방법은 아닙니다. 가로에서 세로로 보이도록 뷰를 변경하는 상황에서는
%가 아예 달라질 수 있습니다. flex, vh를 많이 사용하는 편입니다.
또 화면이 작아지면 필요 이상으로 작아지거나 넘어가는 상황이 생기기 때문에 min-height는 지정해두는 편입니다.
보통 디자이너와 협업해서 기준이 나오기 때문에 정해진 디자인을 따라가고, 사내 디자인 패턴을
따라야 하기도 합니다. MUI가 괜찮으니 github에서 어떤 식으로 layout를 처리하는지
코드를 살피며 패턴이나 방법을 익히면 좋을 것 같습니다.

**Q.** 비즈니스 로직과 뷰 로직의 분리가 정확히 어떤 방식으로 어느 정도까지 이뤄지는지 궁금합니다.
현재 커스텀 훅을 사용하여 비즈니스 로직을 분리하는 정도로 처리하고 있는데 이런 방식이 맞는 걸까요?
**A.** 커스텀 훅도 결국 state, effect로 이뤄져있으므로 state,effect가 여러 곳에서
중복될 때 분리하는 것도 도움이 많이 되는 것 같습니다. 2,3번만 반복되는 로직이라도 분리하는 편입니다.
앞서 설명했던 컴파운드 컴포넌트 패턴도 비즈니스,뷰 로직 분리를 고민하다가 나온 패턴이라고 할 수 있을 것 같습니다.

**Q.** 변수명이나 컴포넌트명을 짓는 게 고민이 됩니다. 많이 길어져도 의미가 뚜렷하게 담겨있다면 길게 사용하는게 맞는걸까요?
**A.** 개인적으로 변수명, 함수명만 보고서 어떤 역할을 하는지 알 수 있다면 길어져도 신경 쓰지 않습니다.
짧은 단어 내에서 표현할 수 있다면 좋겠지만 의미를 가장 잘 담고 있는지가 중요할 것 같습니다.
네이밍 시 인풋, 아웃풋을 잘 나타낼 수 있는지를 생각합니다. 함수가 가진 역할이 너무 많아서 복잡해진다면
나누어서 간단하게 만들고 책임을 줄이는 방식으로 수정합니다.

추가 조언 : refactoring시 기능 변경 없이 리팩토링만 해보길 바랍니다.
기능 구현과 리팩토링을 함께 하지 않는 것이 좋습니다. 현업에서 리팩토링 할 여유가 없을 때가 많으므로
방어적인 일정을 가지고 구현하는 것이 좋다고 생각합니다.

❓ react-query의 useQuery와 useMutation 역할? refetch와 invalidatequeries 차이점?

### 05/06

[기술 매니저님]

유닛 테스트는 함수의 작성 시점에서 필요하다.
유틸, 경로(url 관련 테스트), .. 상품 장바구니 등록 클래스에서 crud 처리해주면 그 코드에 대한 테스트 할 수 있을듯,
처리물 주면 setState한다던지 -> 클래스로 묶을 필오도 없고 getAdd.. 에 대해 코드 (명확한 배열 값) crud할 때

테스트 하기 좋은 코드..! (바깥과 의존성 적고 순수 함수) 결과값이 매번 동일한 => 함수 단위 단위를 테스트할 수 있음

순수함수, 일급함수, 고차함수 (함수형 프로그래밍에서 많이 사용되는 언어)
값으로 다뤄질 수 있다 -> 일급, 함수를 인자처럼 넘길 수 있으므로 일급
이런 일급함수를 받아서 사용하는게 고차함수
